const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPAlgoliaSearchBox.B_N5-M23.js","assets/chunks/framework.Bo_GWmcR.js"])))=>i.map(i=>d[i]);
import{d as P,c as _,r as g,n as x,o as d,a as W,t as N,b as E,w as b,T as Et,e as $,_ as L,u as Bs,i as Fs,f as qs,g as At,h as I,j as p,k as f,l as ge,m as vt,p as O,q as ie,s as Ge,v as de,x as Je,y as Lt,z as Hs,A as zs,F as M,B as G,C as _e,D as ns,E as Ke,G as T,H as Z,I as rs,J as Ye,K as ue,L as Qe,M as Ws,N as is,O as Gs,P as os,Q as as,R as Xe,S as Js,U as Ks,V as Pe,W as ls,X as cs,Y as Ys,Z as Qs,$ as Xs,a0 as us,a1 as Zs,a2 as te,a3 as se}from"./framework.Bo_GWmcR.js";const en=P({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(r){return(e,t)=>(d(),_("span",{class:x(["VPBadge",e.type])},[g(e.$slots,"default",{},()=>[W(N(e.text),1)])],2))}}),tn={key:0,class:"VPBackdrop"},sn=P({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(r){return(e,t)=>(d(),E(Et,{name:"fade"},{default:b(()=>[e.show?(d(),_("div",tn)):$("",!0)]),_:1}))}}),nn=L(sn,[["__scopeId","data-v-c79a1216"]]),C=Bs;function rn(r,e){let t,s=!1;return()=>{t&&clearTimeout(t),s?t=setTimeout(r,e):(r(),(s=!0)&&setTimeout(()=>s=!1,e))}}function gt(r){return r.startsWith("/")?r:`/${r}`}function Ot(r){const{pathname:e,search:t,hash:s,protocol:n}=new URL(r,"http://a.com");if(Fs(r)||r.startsWith("#")||!n.startsWith("http")||!qs(e))return r;const{site:i}=C(),o=e.endsWith("/")||e.endsWith(".html")?r:r.replace(/(?:(^\.+)\/)?.*$/,`$1${e.replace(/(\.md)?$/,i.value.cleanUrls?"":".html")}${t}${s}`);return At(o)}function Ue({correspondingLink:r=!1}={}){const{site:e,localeIndex:t,page:s,theme:n,hash:i}=C(),o=I(()=>{var l,c;return{label:(l=e.value.locales[t.value])==null?void 0:l.label,link:((c=e.value.locales[t.value])==null?void 0:c.link)||(t.value==="root"?"/":`/${t.value}/`)}});return{localeLinks:I(()=>Object.entries(e.value.locales).flatMap(([l,c])=>o.value.label===c.label?[]:{text:c.label,link:on(c.link||(l==="root"?"/":`/${l}/`),n.value.i18nRouting!==!1&&r,s.value.relativePath.slice(o.value.link.length-1),!e.value.cleanUrls)+i.value})),currentLang:o}}function on(r,e,t,s){return e?r.replace(/\/$/,"")+gt(t.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,s?".html":"")):r}const an={class:"NotFound"},ln={class:"code"},cn={class:"title"},un={class:"quote"},dn={class:"action"},hn=["href","aria-label"],fn=P({__name:"NotFound",setup(r){const{theme:e}=C(),{currentLang:t}=Ue();return(s,n)=>{var i,o,a,l,c;return d(),_("div",an,[p("p",ln,N(((i=f(e).notFound)==null?void 0:i.code)??"404"),1),p("h1",cn,N(((o=f(e).notFound)==null?void 0:o.title)??"PAGE NOT FOUND"),1),n[0]||(n[0]=p("div",{class:"divider"},null,-1)),p("blockquote",un,N(((a=f(e).notFound)==null?void 0:a.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),p("div",dn,[p("a",{class:"link",href:f(At)(f(t).link),"aria-label":((l=f(e).notFound)==null?void 0:l.linkLabel)??"go to home"},N(((c=f(e).notFound)==null?void 0:c.linkText)??"Take me home"),9,hn)])])}}}),pn=L(fn,[["__scopeId","data-v-d6be1790"]]);function ds(r,e){if(Array.isArray(r))return qe(r);if(r==null)return[];e=gt(e);const t=Object.keys(r).sort((n,i)=>i.split("/").length-n.split("/").length).find(n=>e.startsWith(gt(n))),s=t?r[t]:[];return Array.isArray(s)?qe(s):qe(s.items,s.base)}function vn(r){const e=[];let t=0;for(const s in r){const n=r[s];if(n.items){t=e.push(n);continue}e[t]||e.push({items:[]}),e[t].items.push(n)}return e}function gn(r){const e=[];function t(s){for(const n of s)n.text&&n.link&&e.push({text:n.text,link:n.link,docFooterText:n.docFooterText}),n.items&&t(n.items)}return t(r),e}function _t(r,e){return Array.isArray(e)?e.some(t=>_t(r,t)):ge(r,e.link)?!0:e.items?_t(r,e.items):!1}function qe(r,e){return[...r].map(t=>{const s={...t},n=s.base||e;return n&&s.link&&(s.link=n+s.link),s.items&&(s.items=qe(s.items,n)),s})}function oe(){const{frontmatter:r,page:e,theme:t}=C(),s=vt("(min-width: 960px)"),n=O(!1),i=I(()=>{const S=t.value.sidebar,k=e.value.relativePath;return S?ds(S,k):[]}),o=O(i.value);ie(i,(S,k)=>{JSON.stringify(S)!==JSON.stringify(k)&&(o.value=i.value)});const a=I(()=>r.value.sidebar!==!1&&o.value.length>0&&r.value.layout!=="home"),l=I(()=>c?r.value.aside==null?t.value.aside==="left":r.value.aside==="left":!1),c=I(()=>r.value.layout==="home"?!1:r.value.aside!=null?!!r.value.aside:t.value.aside!==!1),u=I(()=>a.value&&s.value),h=I(()=>a.value?vn(o.value):[]);function v(){n.value=!0}function m(){n.value=!1}function w(){n.value?m():v()}return{isOpen:n,sidebar:o,sidebarGroups:h,hasSidebar:a,hasAside:c,leftAside:l,isSidebarEnabled:u,open:v,close:m,toggle:w}}function _n(r,e){let t;Ge(()=>{t=r.value?document.activeElement:void 0}),de(()=>{window.addEventListener("keyup",s)}),Je(()=>{window.removeEventListener("keyup",s)});function s(n){n.key==="Escape"&&r.value&&(e(),t==null||t.focus())}}function mn(r){const{page:e,hash:t}=C(),s=O(!1),n=I(()=>r.value.collapsed!=null),i=I(()=>!!r.value.link),o=O(!1),a=()=>{o.value=ge(e.value.relativePath,r.value.link)};ie([e,r,t],a),de(a);const l=I(()=>o.value?!0:r.value.items?_t(e.value.relativePath,r.value.items):!1),c=I(()=>!!(r.value.items&&r.value.items.length));Ge(()=>{s.value=!!(n.value&&r.value.collapsed)}),Lt(()=>{(o.value||l.value)&&(s.value=!1)});function u(){n.value&&(s.value=!s.value)}return{collapsed:s,collapsible:n,isLink:i,isActiveLink:o,hasActiveLink:l,hasChildren:c,toggle:u}}function yn(){const{hasSidebar:r}=oe(),e=vt("(min-width: 960px)"),t=vt("(min-width: 1280px)");return{isAsideEnabled:I(()=>!t.value&&!e.value?!1:r.value?t.value:e.value)}}const bn=/\b(?:VPBadge|header-anchor|footnote-ref|ignore-header)\b/,mt=[];function hs(r){return typeof r.outline=="object"&&!Array.isArray(r.outline)&&r.outline.label||r.outlineTitle||"On this page"}function It(r){const e=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(t=>t.id&&t.hasChildNodes()).map(t=>{const s=Number(t.tagName[1]);return{element:t,title:wn(t),link:"#"+t.id,level:s}});return kn(e,r)}function wn(r){let e="";for(const t of r.childNodes)if(t.nodeType===1){if(bn.test(t.className))continue;e+=t.textContent}else t.nodeType===3&&(e+=t.textContent);return e.trim()}function kn(r,e){if(e===!1)return[];const t=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[s,n]=typeof t=="number"?[t,t]:t==="deep"?[2,6]:t;return Pn(r,s,n)}function $n(r,e){const{isAsideEnabled:t}=yn(),s=rn(i,100);let n=null;de(()=>{requestAnimationFrame(i),window.addEventListener("scroll",s)}),Hs(()=>{o(location.hash)}),Je(()=>{window.removeEventListener("scroll",s)});function i(){if(!t.value)return;const a=window.scrollY,l=window.innerHeight,c=document.body.offsetHeight,u=Math.abs(a+l-c)<1,h=mt.map(({element:m,link:w})=>({link:w,top:Sn(m)})).filter(({top:m})=>!Number.isNaN(m)).sort((m,w)=>m.top-w.top);if(!h.length){o(null);return}if(a<1){o(null);return}if(u){o(h[h.length-1].link);return}let v=null;for(const{link:m,top:w}of h){if(w>a+zs()+4)break;v=m}o(v)}function o(a){n&&n.classList.remove("active"),a==null?n=null:n=r.value.querySelector(`a[href="${decodeURIComponent(a)}"]`);const l=n;l?(l.classList.add("active"),e.value.style.top=l.offsetTop+39+"px",e.value.style.opacity="1"):(e.value.style.top="33px",e.value.style.opacity="0")}}function Sn(r){let e=0;for(;r!==document.body;){if(r===null)return NaN;e+=r.offsetTop,r=r.offsetParent}return e}function Pn(r,e,t){mt.length=0;const s=[],n=[];return r.forEach(i=>{const o={...i,children:[]};let a=n[n.length-1];for(;a&&a.level>=o.level;)n.pop(),a=n[n.length-1];if(o.element.classList.contains("ignore-header")||a&&"shouldIgnore"in a){n.push({level:o.level,shouldIgnore:!0});return}o.level>t||o.level<e||(mt.push({element:o.element,link:o.link}),a?a.children.push(o):s.push(o),n.push(o))}),s}const Tn=["href","title"],En=P({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(r){function e({target:t}){const s=t.href.split("#")[1],n=document.getElementById(decodeURIComponent(s));n==null||n.focus({preventScroll:!0})}return(t,s)=>{const n=_e("VPDocOutlineItem",!0);return d(),_("ul",{class:x(["VPDocOutlineItem",t.root?"root":"nested"])},[(d(!0),_(M,null,G(t.headers,({children:i,link:o,title:a})=>(d(),_("li",null,[p("a",{class:"outline-link",href:o,onClick:e,title:a},N(a),9,Tn),i!=null&&i.length?(d(),E(n,{key:0,headers:i},null,8,["headers"])):$("",!0)]))),256))],2)}}}),fs=L(En,[["__scopeId","data-v-b933a997"]]),An={class:"content"},Ln={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},On=P({__name:"VPDocAsideOutline",setup(r){const{frontmatter:e,theme:t}=C(),s=ns([]);Ke(()=>{s.value=It(e.value.outline??t.value.outline)});const n=O(),i=O();return $n(n,i),(o,a)=>(d(),_("nav",{"aria-labelledby":"doc-outline-aria-label",class:x(["VPDocAsideOutline",{"has-outline":s.value.length>0}]),ref_key:"container",ref:n},[p("div",An,[p("div",{class:"outline-marker",ref_key:"marker",ref:i},null,512),p("div",Ln,N(f(hs)(f(t))),1),T(fs,{headers:s.value,root:!0},null,8,["headers"])])],2))}}),In=L(On,[["__scopeId","data-v-a5bbad30"]]),jn={class:"VPDocAsideCarbonAds"},Cn=P({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(r){const e=()=>null;return(t,s)=>(d(),_("div",jn,[T(f(e),{"carbon-ads":t.carbonAds},null,8,["carbon-ads"])]))}}),Rn={class:"VPDocAside"},Un=P({__name:"VPDocAside",setup(r){const{theme:e}=C();return(t,s)=>(d(),_("div",Rn,[g(t.$slots,"aside-top",{},void 0,!0),g(t.$slots,"aside-outline-before",{},void 0,!0),T(In),g(t.$slots,"aside-outline-after",{},void 0,!0),s[0]||(s[0]=p("div",{class:"spacer"},null,-1)),g(t.$slots,"aside-ads-before",{},void 0,!0),f(e).carbonAds?(d(),E(Cn,{key:0,"carbon-ads":f(e).carbonAds},null,8,["carbon-ads"])):$("",!0),g(t.$slots,"aside-ads-after",{},void 0,!0),g(t.$slots,"aside-bottom",{},void 0,!0)]))}}),Vn=L(Un,[["__scopeId","data-v-3f215769"]]);function Nn(){const{theme:r,page:e}=C();return I(()=>{const{text:t="Edit this page",pattern:s=""}=r.value.editLink||{};let n;return typeof s=="function"?n=s(e.value):n=s.replace(/:path/g,e.value.filePath),{url:n,text:t}})}function xn(){const{page:r,theme:e,frontmatter:t}=C();return I(()=>{var c,u,h,v,m,w,S,k;const s=ds(e.value.sidebar,r.value.relativePath),n=gn(s),i=Dn(n,R=>R.link.replace(/[?#].*$/,"")),o=i.findIndex(R=>ge(r.value.relativePath,R.link)),a=((c=e.value.docFooter)==null?void 0:c.prev)===!1&&!t.value.prev||t.value.prev===!1,l=((u=e.value.docFooter)==null?void 0:u.next)===!1&&!t.value.next||t.value.next===!1;return{prev:a?void 0:{text:(typeof t.value.prev=="string"?t.value.prev:typeof t.value.prev=="object"?t.value.prev.text:void 0)??((h=i[o-1])==null?void 0:h.docFooterText)??((v=i[o-1])==null?void 0:v.text),link:(typeof t.value.prev=="object"?t.value.prev.link:void 0)??((m=i[o-1])==null?void 0:m.link)},next:l?void 0:{text:(typeof t.value.next=="string"?t.value.next:typeof t.value.next=="object"?t.value.next.text:void 0)??((w=i[o+1])==null?void 0:w.docFooterText)??((S=i[o+1])==null?void 0:S.text),link:(typeof t.value.next=="object"?t.value.next.link:void 0)??((k=i[o+1])==null?void 0:k.link)}}})}function Dn(r,e){const t=new Set;return r.filter(s=>{const n=e(s);return t.has(n)?!1:t.add(n)})}const ee=P({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(r){const e=r,t=I(()=>e.tag??(e.href?"a":"span")),s=I(()=>e.href&&rs.test(e.href)||e.target==="_blank");return(n,i)=>(d(),E(Z(t.value),{class:x(["VPLink",{link:n.href,"vp-external-link-icon":s.value,"no-icon":n.noIcon}]),href:n.href?f(Ot)(n.href):void 0,target:n.target??(s.value?"_blank":void 0),rel:n.rel??(s.value?"noreferrer":void 0)},{default:b(()=>[g(n.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),Mn={class:"VPLastUpdated"},Bn=["datetime"],Fn=P({__name:"VPDocFooterLastUpdated",setup(r){const{theme:e,page:t,lang:s}=C(),n=I(()=>new Date(t.value.lastUpdated)),i=I(()=>n.value.toISOString()),o=O("");return de(()=>{Ge(()=>{var a,l,c;o.value=new Intl.DateTimeFormat((l=(a=e.value.lastUpdated)==null?void 0:a.formatOptions)!=null&&l.forceLocale?s.value:void 0,((c=e.value.lastUpdated)==null?void 0:c.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(n.value)})}),(a,l)=>{var c;return d(),_("p",Mn,[W(N(((c=f(e).lastUpdated)==null?void 0:c.text)||f(e).lastUpdatedText||"Last updated")+": ",1),p("time",{datetime:i.value},N(o.value),9,Bn)])}}}),qn=L(Fn,[["__scopeId","data-v-e98dd255"]]),Hn={key:0,class:"VPDocFooter"},zn={key:0,class:"edit-info"},Wn={key:0,class:"edit-link"},Gn={key:1,class:"last-updated"},Jn={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},Kn={class:"pager"},Yn=["innerHTML"],Qn=["innerHTML"],Xn={class:"pager"},Zn=["innerHTML"],er=["innerHTML"],tr=P({__name:"VPDocFooter",setup(r){const{theme:e,page:t,frontmatter:s}=C(),n=Nn(),i=xn(),o=I(()=>e.value.editLink&&s.value.editLink!==!1),a=I(()=>t.value.lastUpdated),l=I(()=>o.value||a.value||i.value.prev||i.value.next);return(c,u)=>{var h,v,m,w;return l.value?(d(),_("footer",Hn,[g(c.$slots,"doc-footer-before",{},void 0,!0),o.value||a.value?(d(),_("div",zn,[o.value?(d(),_("div",Wn,[T(ee,{class:"edit-link-button",href:f(n).url,"no-icon":!0},{default:b(()=>[u[0]||(u[0]=p("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),W(" "+N(f(n).text),1)]),_:1,__:[0]},8,["href"])])):$("",!0),a.value?(d(),_("div",Gn,[T(qn)])):$("",!0)])):$("",!0),(h=f(i).prev)!=null&&h.link||(v=f(i).next)!=null&&v.link?(d(),_("nav",Jn,[u[1]||(u[1]=p("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),p("div",Kn,[(m=f(i).prev)!=null&&m.link?(d(),E(ee,{key:0,class:"pager-link prev",href:f(i).prev.link},{default:b(()=>{var S;return[p("span",{class:"desc",innerHTML:((S=f(e).docFooter)==null?void 0:S.prev)||"Previous page"},null,8,Yn),p("span",{class:"title",innerHTML:f(i).prev.text},null,8,Qn)]}),_:1},8,["href"])):$("",!0)]),p("div",Xn,[(w=f(i).next)!=null&&w.link?(d(),E(ee,{key:0,class:"pager-link next",href:f(i).next.link},{default:b(()=>{var S;return[p("span",{class:"desc",innerHTML:((S=f(e).docFooter)==null?void 0:S.next)||"Next page"},null,8,Zn),p("span",{class:"title",innerHTML:f(i).next.text},null,8,er)]}),_:1},8,["href"])):$("",!0)])])):$("",!0)])):$("",!0)}}}),sr=L(tr,[["__scopeId","data-v-e257564d"]]),nr={class:"container"},rr={class:"aside-container"},ir={class:"aside-content"},or={class:"content"},ar={class:"content-container"},lr={class:"main"},cr=P({__name:"VPDoc",setup(r){const{theme:e}=C(),t=Ye(),{hasSidebar:s,hasAside:n,leftAside:i}=oe(),o=I(()=>t.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(a,l)=>{const c=_e("Content");return d(),_("div",{class:x(["VPDoc",{"has-sidebar":f(s),"has-aside":f(n)}])},[g(a.$slots,"doc-top",{},void 0,!0),p("div",nr,[f(n)?(d(),_("div",{key:0,class:x(["aside",{"left-aside":f(i)}])},[l[0]||(l[0]=p("div",{class:"aside-curtain"},null,-1)),p("div",rr,[p("div",ir,[T(Vn,null,{"aside-top":b(()=>[g(a.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":b(()=>[g(a.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":b(()=>[g(a.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":b(()=>[g(a.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":b(()=>[g(a.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":b(()=>[g(a.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):$("",!0),p("div",or,[p("div",ar,[g(a.$slots,"doc-before",{},void 0,!0),p("main",lr,[T(c,{class:x(["vp-doc",[o.value,f(e).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),T(sr,null,{"doc-footer-before":b(()=>[g(a.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),g(a.$slots,"doc-after",{},void 0,!0)])])]),g(a.$slots,"doc-bottom",{},void 0,!0)],2)}}}),ur=L(cr,[["__scopeId","data-v-39a288b8"]]),dr=P({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(r){const e=r,t=I(()=>e.href&&rs.test(e.href)),s=I(()=>e.tag||(e.href?"a":"button"));return(n,i)=>(d(),E(Z(s.value),{class:x(["VPButton",[n.size,n.theme]]),href:n.href?f(Ot)(n.href):void 0,target:e.target??(t.value?"_blank":void 0),rel:e.rel??(t.value?"noreferrer":void 0)},{default:b(()=>[W(N(n.text),1)]),_:1},8,["class","href","target","rel"]))}}),hr=L(dr,[["__scopeId","data-v-fa7799d5"]]),fr=["src","alt"],pr=P({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(r){return(e,t)=>{const s=_e("VPImage",!0);return e.image?(d(),_(M,{key:0},[typeof e.image=="string"||"src"in e.image?(d(),_("img",ue({key:0,class:"VPImage"},typeof e.image=="string"?e.$attrs:{...e.image,...e.$attrs},{src:f(At)(typeof e.image=="string"?e.image:e.image.src),alt:e.alt??(typeof e.image=="string"?"":e.image.alt||"")}),null,16,fr)):(d(),_(M,{key:1},[T(s,ue({class:"dark",image:e.image.dark,alt:e.image.alt},e.$attrs),null,16,["image","alt"]),T(s,ue({class:"light",image:e.image.light,alt:e.image.alt},e.$attrs),null,16,["image","alt"])],64))],64)):$("",!0)}}}),He=L(pr,[["__scopeId","data-v-8426fc1a"]]),vr={class:"container"},gr={class:"main"},_r={class:"heading"},mr=["innerHTML"],yr=["innerHTML"],br=["innerHTML"],wr={key:0,class:"actions"},kr={key:0,class:"image"},$r={class:"image-container"},Sr=P({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(r){const e=Qe("hero-image-slot-exists");return(t,s)=>(d(),_("div",{class:x(["VPHero",{"has-image":t.image||f(e)}])},[p("div",vr,[p("div",gr,[g(t.$slots,"home-hero-info-before",{},void 0,!0),g(t.$slots,"home-hero-info",{},()=>[p("h1",_r,[t.name?(d(),_("span",{key:0,innerHTML:t.name,class:"name clip"},null,8,mr)):$("",!0),t.text?(d(),_("span",{key:1,innerHTML:t.text,class:"text"},null,8,yr)):$("",!0)]),t.tagline?(d(),_("p",{key:0,innerHTML:t.tagline,class:"tagline"},null,8,br)):$("",!0)],!0),g(t.$slots,"home-hero-info-after",{},void 0,!0),t.actions?(d(),_("div",wr,[(d(!0),_(M,null,G(t.actions,n=>(d(),_("div",{key:n.link,class:"action"},[T(hr,{tag:"a",size:"medium",theme:n.theme,text:n.text,href:n.link,target:n.target,rel:n.rel},null,8,["theme","text","href","target","rel"])]))),128))])):$("",!0),g(t.$slots,"home-hero-actions-after",{},void 0,!0)]),t.image||f(e)?(d(),_("div",kr,[p("div",$r,[s[0]||(s[0]=p("div",{class:"image-bg"},null,-1)),g(t.$slots,"home-hero-image",{},()=>[t.image?(d(),E(He,{key:0,class:"image-src",image:t.image},null,8,["image"])):$("",!0)],!0)])])):$("",!0)])],2))}}),Pr=L(Sr,[["__scopeId","data-v-4f9c455b"]]),Tr=P({__name:"VPHomeHero",setup(r){const{frontmatter:e}=C();return(t,s)=>f(e).hero?(d(),E(Pr,{key:0,class:"VPHomeHero",name:f(e).hero.name,text:f(e).hero.text,tagline:f(e).hero.tagline,image:f(e).hero.image,actions:f(e).hero.actions},{"home-hero-info-before":b(()=>[g(t.$slots,"home-hero-info-before")]),"home-hero-info":b(()=>[g(t.$slots,"home-hero-info")]),"home-hero-info-after":b(()=>[g(t.$slots,"home-hero-info-after")]),"home-hero-actions-after":b(()=>[g(t.$slots,"home-hero-actions-after")]),"home-hero-image":b(()=>[g(t.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):$("",!0)}}),Er={class:"box"},Ar={key:0,class:"icon"},Lr=["innerHTML"],Or=["innerHTML"],Ir=["innerHTML"],jr={key:4,class:"link-text"},Cr={class:"link-text-value"},Rr=P({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(r){return(e,t)=>(d(),E(ee,{class:"VPFeature",href:e.link,rel:e.rel,target:e.target,"no-icon":!0,tag:e.link?"a":"div"},{default:b(()=>[p("article",Er,[typeof e.icon=="object"&&e.icon.wrap?(d(),_("div",Ar,[T(He,{image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])])):typeof e.icon=="object"?(d(),E(He,{key:1,image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])):e.icon?(d(),_("div",{key:2,class:"icon",innerHTML:e.icon},null,8,Lr)):$("",!0),p("h2",{class:"title",innerHTML:e.title},null,8,Or),e.details?(d(),_("p",{key:3,class:"details",innerHTML:e.details},null,8,Ir)):$("",!0),e.linkText?(d(),_("div",jr,[p("p",Cr,[W(N(e.linkText)+" ",1),t[0]||(t[0]=p("span",{class:"vpi-arrow-right link-text-icon"},null,-1))])])):$("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),Ur=L(Rr,[["__scopeId","data-v-a3976bdc"]]),Vr={key:0,class:"VPFeatures"},Nr={class:"container"},xr={class:"items"},Dr=P({__name:"VPFeatures",props:{features:{}},setup(r){const e=r,t=I(()=>{const s=e.features.length;if(s){if(s===2)return"grid-2";if(s===3)return"grid-3";if(s%3===0)return"grid-6";if(s>3)return"grid-4"}else return});return(s,n)=>s.features?(d(),_("div",Vr,[p("div",Nr,[p("div",xr,[(d(!0),_(M,null,G(s.features,i=>(d(),_("div",{key:i.title,class:x(["item",[t.value]])},[T(Ur,{icon:i.icon,title:i.title,details:i.details,link:i.link,"link-text":i.linkText,rel:i.rel,target:i.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):$("",!0)}}),Mr=L(Dr,[["__scopeId","data-v-a6181336"]]),Br=P({__name:"VPHomeFeatures",setup(r){const{frontmatter:e}=C();return(t,s)=>f(e).features?(d(),E(Mr,{key:0,class:"VPHomeFeatures",features:f(e).features},null,8,["features"])):$("",!0)}}),Fr=P({__name:"VPHomeContent",setup(r){const{width:e}=Ws({initialWidth:0,includeScrollbar:!1});return(t,s)=>(d(),_("div",{class:"vp-doc container",style:is(f(e)?{"--vp-offset":`calc(50% - ${f(e)/2}px)`}:{})},[g(t.$slots,"default",{},void 0,!0)],4))}}),qr=L(Fr,[["__scopeId","data-v-8e2d4988"]]),Hr=P({__name:"VPHome",setup(r){const{frontmatter:e,theme:t}=C();return(s,n)=>{const i=_e("Content");return d(),_("div",{class:x(["VPHome",{"external-link-icon-enabled":f(t).externalLinkIcon}])},[g(s.$slots,"home-hero-before",{},void 0,!0),T(Tr,null,{"home-hero-info-before":b(()=>[g(s.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":b(()=>[g(s.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":b(()=>[g(s.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":b(()=>[g(s.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":b(()=>[g(s.$slots,"home-hero-image",{},void 0,!0)]),_:3}),g(s.$slots,"home-hero-after",{},void 0,!0),g(s.$slots,"home-features-before",{},void 0,!0),T(Br),g(s.$slots,"home-features-after",{},void 0,!0),f(e).markdownStyles!==!1?(d(),E(qr,{key:0},{default:b(()=>[T(i)]),_:1})):(d(),E(i,{key:1}))],2)}}}),zr=L(Hr,[["__scopeId","data-v-8b561e3d"]]),Wr={},Gr={class:"VPPage"};function Jr(r,e){const t=_e("Content");return d(),_("div",Gr,[g(r.$slots,"page-top"),T(t),g(r.$slots,"page-bottom")])}const Kr=L(Wr,[["render",Jr]]),Yr=P({__name:"VPContent",setup(r){const{page:e,frontmatter:t}=C(),{hasSidebar:s}=oe();return(n,i)=>(d(),_("div",{class:x(["VPContent",{"has-sidebar":f(s),"is-home":f(t).layout==="home"}]),id:"VPContent"},[f(e).isNotFound?g(n.$slots,"not-found",{key:0},()=>[T(pn)],!0):f(t).layout==="page"?(d(),E(Kr,{key:1},{"page-top":b(()=>[g(n.$slots,"page-top",{},void 0,!0)]),"page-bottom":b(()=>[g(n.$slots,"page-bottom",{},void 0,!0)]),_:3})):f(t).layout==="home"?(d(),E(zr,{key:2},{"home-hero-before":b(()=>[g(n.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":b(()=>[g(n.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":b(()=>[g(n.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":b(()=>[g(n.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":b(()=>[g(n.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":b(()=>[g(n.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":b(()=>[g(n.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":b(()=>[g(n.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":b(()=>[g(n.$slots,"home-features-after",{},void 0,!0)]),_:3})):f(t).layout&&f(t).layout!=="doc"?(d(),E(Z(f(t).layout),{key:3})):(d(),E(ur,{key:4},{"doc-top":b(()=>[g(n.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":b(()=>[g(n.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":b(()=>[g(n.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":b(()=>[g(n.$slots,"doc-before",{},void 0,!0)]),"doc-after":b(()=>[g(n.$slots,"doc-after",{},void 0,!0)]),"aside-top":b(()=>[g(n.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":b(()=>[g(n.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":b(()=>[g(n.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":b(()=>[g(n.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":b(()=>[g(n.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":b(()=>[g(n.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),Qr=L(Yr,[["__scopeId","data-v-1428d186"]]),Xr={class:"container"},Zr=["innerHTML"],ei=["innerHTML"],ti=P({__name:"VPFooter",setup(r){const{theme:e,frontmatter:t}=C(),{hasSidebar:s}=oe();return(n,i)=>f(e).footer&&f(t).footer!==!1?(d(),_("footer",{key:0,class:x(["VPFooter",{"has-sidebar":f(s)}])},[p("div",Xr,[f(e).footer.message?(d(),_("p",{key:0,class:"message",innerHTML:f(e).footer.message},null,8,Zr)):$("",!0),f(e).footer.copyright?(d(),_("p",{key:1,class:"copyright",innerHTML:f(e).footer.copyright},null,8,ei)):$("",!0)])],2)):$("",!0)}}),si=L(ti,[["__scopeId","data-v-e315a0ad"]]);function ni(){const{theme:r,frontmatter:e}=C(),t=ns([]),s=I(()=>t.value.length>0);return Ke(()=>{t.value=It(e.value.outline??r.value.outline)}),{headers:t,hasLocalNav:s}}const ri={class:"menu-text"},ii={class:"header"},oi={class:"outline"},ai=P({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(r){const e=r,{theme:t}=C(),s=O(!1),n=O(0),i=O(),o=O();function a(h){var v;(v=i.value)!=null&&v.contains(h.target)||(s.value=!1)}ie(s,h=>{if(h){document.addEventListener("click",a);return}document.removeEventListener("click",a)}),Gs("Escape",()=>{s.value=!1}),Ke(()=>{s.value=!1});function l(){s.value=!s.value,n.value=window.innerHeight+Math.min(window.scrollY-e.navHeight,0)}function c(h){h.target.classList.contains("outline-link")&&(o.value&&(o.value.style.transition="none"),os(()=>{s.value=!1}))}function u(){s.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(h,v)=>(d(),_("div",{class:"VPLocalNavOutlineDropdown",style:is({"--vp-vh":n.value+"px"}),ref_key:"main",ref:i},[h.headers.length>0?(d(),_("button",{key:0,onClick:l,class:x({open:s.value})},[p("span",ri,N(f(hs)(f(t))),1),v[0]||(v[0]=p("span",{class:"vpi-chevron-right icon"},null,-1))],2)):(d(),_("button",{key:1,onClick:u},N(f(t).returnToTopLabel||"Return to top"),1)),T(Et,{name:"flyout"},{default:b(()=>[s.value?(d(),_("div",{key:0,ref_key:"items",ref:o,class:"items",onClick:c},[p("div",ii,[p("a",{class:"top-link",href:"#",onClick:u},N(f(t).returnToTopLabel||"Return to top"),1)]),p("div",oi,[T(fs,{headers:h.headers},null,8,["headers"])])],512)):$("",!0)]),_:1})],4))}}),li=L(ai,[["__scopeId","data-v-8a42e2b4"]]),ci={class:"container"},ui=["aria-expanded"],di={class:"menu-text"},hi=P({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(r){const{theme:e,frontmatter:t}=C(),{hasSidebar:s}=oe(),{headers:n}=ni(),{y:i}=as(),o=O(0);de(()=>{o.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),Ke(()=>{n.value=It(t.value.outline??e.value.outline)});const a=I(()=>n.value.length===0),l=I(()=>a.value&&!s.value),c=I(()=>({VPLocalNav:!0,"has-sidebar":s.value,empty:a.value,fixed:l.value}));return(u,h)=>f(t).layout!=="home"&&(!l.value||f(i)>=o.value)?(d(),_("div",{key:0,class:x(c.value)},[p("div",ci,[f(s)?(d(),_("button",{key:0,class:"menu","aria-expanded":u.open,"aria-controls":"VPSidebarNav",onClick:h[0]||(h[0]=v=>u.$emit("open-menu"))},[h[1]||(h[1]=p("span",{class:"vpi-align-left menu-icon"},null,-1)),p("span",di,N(f(e).sidebarMenuLabel||"Menu"),1)],8,ui)):$("",!0),T(li,{headers:f(n),navHeight:o.value},null,8,["headers","navHeight"])])],2)):$("",!0)}}),fi=L(hi,[["__scopeId","data-v-a6f0e41e"]]);function pi(){const r=O(!1);function e(){r.value=!0,window.addEventListener("resize",n)}function t(){r.value=!1,window.removeEventListener("resize",n)}function s(){r.value?t():e()}function n(){window.outerWidth>=768&&t()}const i=Ye();return ie(()=>i.path,t),{isScreenOpen:r,openScreen:e,closeScreen:t,toggleScreen:s}}const vi={},gi={class:"VPSwitch",type:"button",role:"switch"},_i={class:"check"},mi={key:0,class:"icon"};function yi(r,e){return d(),_("button",gi,[p("span",_i,[r.$slots.default?(d(),_("span",mi,[g(r.$slots,"default",{},void 0,!0)])):$("",!0)])])}const bi=L(vi,[["render",yi],["__scopeId","data-v-1d5665e3"]]),wi=P({__name:"VPSwitchAppearance",setup(r){const{isDark:e,theme:t}=C(),s=Qe("toggle-appearance",()=>{e.value=!e.value}),n=O("");return Lt(()=>{n.value=e.value?t.value.lightModeSwitchTitle||"Switch to light theme":t.value.darkModeSwitchTitle||"Switch to dark theme"}),(i,o)=>(d(),E(bi,{title:n.value,class:"VPSwitchAppearance","aria-checked":f(e),onClick:f(s)},{default:b(()=>o[0]||(o[0]=[p("span",{class:"vpi-sun sun"},null,-1),p("span",{class:"vpi-moon moon"},null,-1)])),_:1,__:[0]},8,["title","aria-checked","onClick"]))}}),jt=L(wi,[["__scopeId","data-v-5337faa4"]]),ki={key:0,class:"VPNavBarAppearance"},$i=P({__name:"VPNavBarAppearance",setup(r){const{site:e}=C();return(t,s)=>f(e).appearance&&f(e).appearance!=="force-dark"&&f(e).appearance!=="force-auto"?(d(),_("div",ki,[T(jt)])):$("",!0)}}),Si=L($i,[["__scopeId","data-v-6c893767"]]),Ct=O();let ps=!1,at=0;function Pi(r){const e=O(!1);if(Xe){!ps&&Ti(),at++;const t=ie(Ct,s=>{var n,i,o;s===r.el.value||(n=r.el.value)!=null&&n.contains(s)?(e.value=!0,(i=r.onFocus)==null||i.call(r)):(e.value=!1,(o=r.onBlur)==null||o.call(r))});Je(()=>{t(),at--,at||Ei()})}return Js(e)}function Ti(){document.addEventListener("focusin",vs),ps=!0,Ct.value=document.activeElement}function Ei(){document.removeEventListener("focusin",vs)}function vs(){Ct.value=document.activeElement}const Ai={class:"VPMenuLink"},Li=["innerHTML"],Oi=P({__name:"VPMenuLink",props:{item:{}},setup(r){const{page:e}=C();return(t,s)=>(d(),_("div",Ai,[T(ee,{class:x({active:f(ge)(f(e).relativePath,t.item.activeMatch||t.item.link,!!t.item.activeMatch)}),href:t.item.link,target:t.item.target,rel:t.item.rel,"no-icon":t.item.noIcon},{default:b(()=>[p("span",{innerHTML:t.item.text},null,8,Li)]),_:1},8,["class","href","target","rel","no-icon"])]))}}),Ze=L(Oi,[["__scopeId","data-v-35975db6"]]),Ii={class:"VPMenuGroup"},ji={key:0,class:"title"},Ci=P({__name:"VPMenuGroup",props:{text:{},items:{}},setup(r){return(e,t)=>(d(),_("div",Ii,[e.text?(d(),_("p",ji,N(e.text),1)):$("",!0),(d(!0),_(M,null,G(e.items,s=>(d(),_(M,null,["link"in s?(d(),E(Ze,{key:0,item:s},null,8,["item"])):$("",!0)],64))),256))]))}}),Ri=L(Ci,[["__scopeId","data-v-69e747b5"]]),Ui={class:"VPMenu"},Vi={key:0,class:"items"},Ni=P({__name:"VPMenu",props:{items:{}},setup(r){return(e,t)=>(d(),_("div",Ui,[e.items?(d(),_("div",Vi,[(d(!0),_(M,null,G(e.items,s=>(d(),_(M,{key:JSON.stringify(s)},["link"in s?(d(),E(Ze,{key:0,item:s},null,8,["item"])):"component"in s?(d(),E(Z(s.component),ue({key:1,ref_for:!0},s.props),null,16)):(d(),E(Ri,{key:2,text:s.text,items:s.items},null,8,["text","items"]))],64))),128))])):$("",!0),g(e.$slots,"default",{},void 0,!0)]))}}),xi=L(Ni,[["__scopeId","data-v-b98bc113"]]),Di=["aria-expanded","aria-label"],Mi={key:0,class:"text"},Bi=["innerHTML"],Fi={key:1,class:"vpi-more-horizontal icon"},qi={class:"menu"},Hi=P({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(r){const e=O(!1),t=O();Pi({el:t,onBlur:s});function s(){e.value=!1}return(n,i)=>(d(),_("div",{class:"VPFlyout",ref_key:"el",ref:t,onMouseenter:i[1]||(i[1]=o=>e.value=!0),onMouseleave:i[2]||(i[2]=o=>e.value=!1)},[p("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":e.value,"aria-label":n.label,onClick:i[0]||(i[0]=o=>e.value=!e.value)},[n.button||n.icon?(d(),_("span",Mi,[n.icon?(d(),_("span",{key:0,class:x([n.icon,"option-icon"])},null,2)):$("",!0),n.button?(d(),_("span",{key:1,innerHTML:n.button},null,8,Bi)):$("",!0),i[3]||(i[3]=p("span",{class:"vpi-chevron-down text-icon"},null,-1))])):(d(),_("span",Fi))],8,Di),p("div",qi,[T(xi,{items:n.items},{default:b(()=>[g(n.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),Rt=L(Hi,[["__scopeId","data-v-cf11d7a2"]]),zi=["href","aria-label","innerHTML"],Wi=P({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(r){const e=r,t=O();de(async()=>{var i;await os();const n=(i=t.value)==null?void 0:i.children[0];n instanceof HTMLElement&&n.className.startsWith("vpi-social-")&&(getComputedStyle(n).maskImage||getComputedStyle(n).webkitMaskImage)==="none"&&n.style.setProperty("--icon",`url('https://api.iconify.design/simple-icons/${e.icon}.svg')`)});const s=I(()=>typeof e.icon=="object"?e.icon.svg:`<span class="vpi-social-${e.icon}"></span>`);return(n,i)=>(d(),_("a",{ref_key:"el",ref:t,class:"VPSocialLink no-icon",href:n.link,"aria-label":n.ariaLabel??(typeof n.icon=="string"?n.icon:""),target:"_blank",rel:"noopener",innerHTML:s.value},null,8,zi))}}),Gi=L(Wi,[["__scopeId","data-v-bd121fe5"]]),Ji={class:"VPSocialLinks"},Ki=P({__name:"VPSocialLinks",props:{links:{}},setup(r){return(e,t)=>(d(),_("div",Ji,[(d(!0),_(M,null,G(e.links,({link:s,icon:n,ariaLabel:i})=>(d(),E(Gi,{key:s,icon:n,link:s,ariaLabel:i},null,8,["icon","link","ariaLabel"]))),128))]))}}),Ut=L(Ki,[["__scopeId","data-v-7bc22406"]]),Yi={key:0,class:"group translations"},Qi={class:"trans-title"},Xi={key:1,class:"group"},Zi={class:"item appearance"},eo={class:"label"},to={class:"appearance-action"},so={key:2,class:"group"},no={class:"item social-links"},ro=P({__name:"VPNavBarExtra",setup(r){const{site:e,theme:t}=C(),{localeLinks:s,currentLang:n}=Ue({correspondingLink:!0}),i=I(()=>s.value.length&&n.value.label||e.value.appearance||t.value.socialLinks);return(o,a)=>i.value?(d(),E(Rt,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:b(()=>[f(s).length&&f(n).label?(d(),_("div",Yi,[p("p",Qi,N(f(n).label),1),(d(!0),_(M,null,G(f(s),l=>(d(),E(Ze,{key:l.link,item:l},null,8,["item"]))),128))])):$("",!0),f(e).appearance&&f(e).appearance!=="force-dark"&&f(e).appearance!=="force-auto"?(d(),_("div",Xi,[p("div",Zi,[p("p",eo,N(f(t).darkModeSwitchLabel||"Appearance"),1),p("div",to,[T(jt)])])])):$("",!0),f(t).socialLinks?(d(),_("div",so,[p("div",no,[T(Ut,{class:"social-links-list",links:f(t).socialLinks},null,8,["links"])])])):$("",!0)]),_:1})):$("",!0)}}),io=L(ro,[["__scopeId","data-v-bb2aa2f0"]]),oo=["aria-expanded"],ao=P({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(r){return(e,t)=>(d(),_("button",{type:"button",class:x(["VPNavBarHamburger",{active:e.active}]),"aria-label":"mobile navigation","aria-expanded":e.active,"aria-controls":"VPNavScreen",onClick:t[0]||(t[0]=s=>e.$emit("click"))},t[1]||(t[1]=[p("span",{class:"container"},[p("span",{class:"top"}),p("span",{class:"middle"}),p("span",{class:"bottom"})],-1)]),10,oo))}}),lo=L(ao,[["__scopeId","data-v-e5dd9c1c"]]),co=["innerHTML"],uo=P({__name:"VPNavBarMenuLink",props:{item:{}},setup(r){const{page:e}=C();return(t,s)=>(d(),E(ee,{class:x({VPNavBarMenuLink:!0,active:f(ge)(f(e).relativePath,t.item.activeMatch||t.item.link,!!t.item.activeMatch)}),href:t.item.link,target:t.item.target,rel:t.item.rel,"no-icon":t.item.noIcon,tabindex:"0"},{default:b(()=>[p("span",{innerHTML:t.item.text},null,8,co)]),_:1},8,["class","href","target","rel","no-icon"]))}}),ho=L(uo,[["__scopeId","data-v-e56f3d57"]]),fo=P({__name:"VPNavBarMenuGroup",props:{item:{}},setup(r){const e=r,{page:t}=C(),s=i=>"component"in i?!1:"link"in i?ge(t.value.relativePath,i.link,!!e.item.activeMatch):i.items.some(s),n=I(()=>s(e.item));return(i,o)=>(d(),E(Rt,{class:x({VPNavBarMenuGroup:!0,active:f(ge)(f(t).relativePath,i.item.activeMatch,!!i.item.activeMatch)||n.value}),button:i.item.text,items:i.item.items},null,8,["class","button","items"]))}}),po={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},vo=P({__name:"VPNavBarMenu",setup(r){const{theme:e}=C();return(t,s)=>f(e).nav?(d(),_("nav",po,[s[0]||(s[0]=p("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),(d(!0),_(M,null,G(f(e).nav,n=>(d(),_(M,{key:JSON.stringify(n)},["link"in n?(d(),E(ho,{key:0,item:n},null,8,["item"])):"component"in n?(d(),E(Z(n.component),ue({key:1,ref_for:!0},n.props),null,16)):(d(),E(fo,{key:2,item:n},null,8,["item"]))],64))),128))])):$("",!0)}}),go=L(vo,[["__scopeId","data-v-dc692963"]]);function _o(r){const{localeIndex:e,theme:t}=C();function s(n){var w,S,k;const i=n.split("."),o=(w=t.value.search)==null?void 0:w.options,a=o&&typeof o=="object",l=a&&((k=(S=o.locales)==null?void 0:S[e.value])==null?void 0:k.translations)||null,c=a&&o.translations||null;let u=l,h=c,v=r;const m=i.pop();for(const R of i){let V=null;const y=v==null?void 0:v[R];y&&(V=v=y);const A=h==null?void 0:h[R];A&&(V=h=A);const F=u==null?void 0:u[R];F&&(V=u=F),y||(v=V),A||(h=V),F||(u=V)}return(u==null?void 0:u[m])??(h==null?void 0:h[m])??(v==null?void 0:v[m])??""}return s}const mo=["aria-label"],yo={class:"DocSearch-Button-Container"},bo={class:"DocSearch-Button-Placeholder"},Bt=P({__name:"VPNavBarSearchButton",setup(r){const t=_o({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(s,n)=>(d(),_("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":f(t)("button.buttonAriaLabel")},[p("span",yo,[n[0]||(n[0]=p("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1)),p("span",bo,N(f(t)("button.buttonText")),1)]),n[1]||(n[1]=p("span",{class:"DocSearch-Button-Keys"},[p("kbd",{class:"DocSearch-Button-Key"}),p("kbd",{class:"DocSearch-Button-Key"},"K")],-1))],8,mo))}}),wo={class:"VPNavBarSearch"},ko={id:"local-search"},$o={key:1,id:"docsearch"},So=P({__name:"VPNavBarSearch",setup(r){const e=()=>null,t=Ks(()=>Pe(()=>import("./VPAlgoliaSearchBox.B_N5-M23.js"),__vite__mapDeps([0,1]))),{theme:s}=C(),n=O(!1),i=O(!1),o=()=>{const v="VPAlgoliaPreconnect";(window.requestIdleCallback||setTimeout)(()=>{var S;const w=document.createElement("link");w.id=v,w.rel="preconnect",w.href=`https://${(((S=s.value.search)==null?void 0:S.options)??s.value.algolia).appId}-dsn.algolia.net`,w.crossOrigin="",document.head.appendChild(w)})};de(()=>{o();const v=w=>{(w.key.toLowerCase()==="k"&&(w.metaKey||w.ctrlKey)||!c(w)&&w.key==="/")&&(w.preventDefault(),a(),m())},m=()=>{window.removeEventListener("keydown",v)};window.addEventListener("keydown",v),Je(m)});function a(){n.value||(n.value=!0,setTimeout(l,16))}function l(){const v=new Event("keydown");v.key="k",v.metaKey=!0,window.dispatchEvent(v),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||l()},16)}function c(v){const m=v.target,w=m.tagName;return m.isContentEditable||w==="INPUT"||w==="SELECT"||w==="TEXTAREA"}const u=O(!1),h="algolia";return(v,m)=>{var w;return d(),_("div",wo,[f(h)==="local"?(d(),_(M,{key:0},[u.value?(d(),E(f(e),{key:0,onClose:m[0]||(m[0]=S=>u.value=!1)})):$("",!0),p("div",ko,[T(Bt,{onClick:m[1]||(m[1]=S=>u.value=!0)})])],64)):f(h)==="algolia"?(d(),_(M,{key:1},[n.value?(d(),E(f(t),{key:0,algolia:((w=f(s).search)==null?void 0:w.options)??f(s).algolia,onVnodeBeforeMount:m[2]||(m[2]=S=>i.value=!0)},null,8,["algolia"])):$("",!0),i.value?$("",!0):(d(),_("div",$o,[T(Bt,{onClick:a})]))],64)):$("",!0)])}}}),Po=P({__name:"VPNavBarSocialLinks",setup(r){const{theme:e}=C();return(t,s)=>f(e).socialLinks?(d(),E(Ut,{key:0,class:"VPNavBarSocialLinks",links:f(e).socialLinks},null,8,["links"])):$("",!0)}}),To=L(Po,[["__scopeId","data-v-0394ad82"]]),Eo=["href","rel","target"],Ao=["innerHTML"],Lo={key:2},Oo=P({__name:"VPNavBarTitle",setup(r){const{site:e,theme:t}=C(),{hasSidebar:s}=oe(),{currentLang:n}=Ue(),i=I(()=>{var l;return typeof t.value.logoLink=="string"?t.value.logoLink:(l=t.value.logoLink)==null?void 0:l.link}),o=I(()=>{var l;return typeof t.value.logoLink=="string"||(l=t.value.logoLink)==null?void 0:l.rel}),a=I(()=>{var l;return typeof t.value.logoLink=="string"||(l=t.value.logoLink)==null?void 0:l.target});return(l,c)=>(d(),_("div",{class:x(["VPNavBarTitle",{"has-sidebar":f(s)}])},[p("a",{class:"title",href:i.value??f(Ot)(f(n).link),rel:o.value,target:a.value},[g(l.$slots,"nav-bar-title-before",{},void 0,!0),f(t).logo?(d(),E(He,{key:0,class:"logo",image:f(t).logo},null,8,["image"])):$("",!0),f(t).siteTitle?(d(),_("span",{key:1,innerHTML:f(t).siteTitle},null,8,Ao)):f(t).siteTitle===void 0?(d(),_("span",Lo,N(f(e).title),1)):$("",!0),g(l.$slots,"nav-bar-title-after",{},void 0,!0)],8,Eo)],2))}}),Io=L(Oo,[["__scopeId","data-v-1168a8e4"]]),jo={class:"items"},Co={class:"title"},Ro=P({__name:"VPNavBarTranslations",setup(r){const{theme:e}=C(),{localeLinks:t,currentLang:s}=Ue({correspondingLink:!0});return(n,i)=>f(t).length&&f(s).label?(d(),E(Rt,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:f(e).langMenuLabel||"Change language"},{default:b(()=>[p("div",jo,[p("p",Co,N(f(s).label),1),(d(!0),_(M,null,G(f(t),o=>(d(),E(Ze,{key:o.link,item:o},null,8,["item"]))),128))])]),_:1},8,["label"])):$("",!0)}}),Uo=L(Ro,[["__scopeId","data-v-88af2de4"]]),Vo={class:"wrapper"},No={class:"container"},xo={class:"title"},Do={class:"content"},Mo={class:"content-body"},Bo=P({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(r){const e=r,{y:t}=as(),{hasSidebar:s}=oe(),{frontmatter:n}=C(),i=O({});return Lt(()=>{i.value={"has-sidebar":s.value,home:n.value.layout==="home",top:t.value===0,"screen-open":e.isScreenOpen}}),(o,a)=>(d(),_("div",{class:x(["VPNavBar",i.value])},[p("div",Vo,[p("div",No,[p("div",xo,[T(Io,null,{"nav-bar-title-before":b(()=>[g(o.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":b(()=>[g(o.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),p("div",Do,[p("div",Mo,[g(o.$slots,"nav-bar-content-before",{},void 0,!0),T(So,{class:"search"}),T(go,{class:"menu"}),T(Uo,{class:"translations"}),T(Si,{class:"appearance"}),T(To,{class:"social-links"}),T(io,{class:"extra"}),g(o.$slots,"nav-bar-content-after",{},void 0,!0),T(lo,{class:"hamburger",active:o.isScreenOpen,onClick:a[0]||(a[0]=l=>o.$emit("toggle-screen"))},null,8,["active"])])])])]),a[1]||(a[1]=p("div",{class:"divider"},[p("div",{class:"divider-line"})],-1))],2))}}),Fo=L(Bo,[["__scopeId","data-v-6aa21345"]]),qo={key:0,class:"VPNavScreenAppearance"},Ho={class:"text"},zo=P({__name:"VPNavScreenAppearance",setup(r){const{site:e,theme:t}=C();return(s,n)=>f(e).appearance&&f(e).appearance!=="force-dark"&&f(e).appearance!=="force-auto"?(d(),_("div",qo,[p("p",Ho,N(f(t).darkModeSwitchLabel||"Appearance"),1),T(jt)])):$("",!0)}}),Wo=L(zo,[["__scopeId","data-v-b44890b2"]]),Go=["innerHTML"],Jo=P({__name:"VPNavScreenMenuLink",props:{item:{}},setup(r){const e=Qe("close-screen");return(t,s)=>(d(),E(ee,{class:"VPNavScreenMenuLink",href:t.item.link,target:t.item.target,rel:t.item.rel,"no-icon":t.item.noIcon,onClick:f(e)},{default:b(()=>[p("span",{innerHTML:t.item.text},null,8,Go)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),Ko=L(Jo,[["__scopeId","data-v-df37e6dd"]]),Yo=["innerHTML"],Qo=P({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(r){const e=Qe("close-screen");return(t,s)=>(d(),E(ee,{class:"VPNavScreenMenuGroupLink",href:t.item.link,target:t.item.target,rel:t.item.rel,"no-icon":t.item.noIcon,onClick:f(e)},{default:b(()=>[p("span",{innerHTML:t.item.text},null,8,Yo)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),gs=L(Qo,[["__scopeId","data-v-3e9c20e4"]]),Xo={class:"VPNavScreenMenuGroupSection"},Zo={key:0,class:"title"},ea=P({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(r){return(e,t)=>(d(),_("div",Xo,[e.text?(d(),_("p",Zo,N(e.text),1)):$("",!0),(d(!0),_(M,null,G(e.items,s=>(d(),E(gs,{key:s.text,item:s},null,8,["item"]))),128))]))}}),ta=L(ea,[["__scopeId","data-v-8133b170"]]),sa=["aria-controls","aria-expanded"],na=["innerHTML"],ra=["id"],ia={key:0,class:"item"},oa={key:1,class:"item"},aa={key:2,class:"group"},la=P({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(r){const e=r,t=O(!1),s=I(()=>`NavScreenGroup-${e.text.replace(" ","-").toLowerCase()}`);function n(){t.value=!t.value}return(i,o)=>(d(),_("div",{class:x(["VPNavScreenMenuGroup",{open:t.value}])},[p("button",{class:"button","aria-controls":s.value,"aria-expanded":t.value,onClick:n},[p("span",{class:"button-text",innerHTML:i.text},null,8,na),o[0]||(o[0]=p("span",{class:"vpi-plus button-icon"},null,-1))],8,sa),p("div",{id:s.value,class:"items"},[(d(!0),_(M,null,G(i.items,a=>(d(),_(M,{key:JSON.stringify(a)},["link"in a?(d(),_("div",ia,[T(gs,{item:a},null,8,["item"])])):"component"in a?(d(),_("div",oa,[(d(),E(Z(a.component),ue({ref_for:!0},a.props,{"screen-menu":""}),null,16))])):(d(),_("div",aa,[T(ta,{text:a.text,items:a.items},null,8,["text","items"])]))],64))),128))],8,ra)],2))}}),ca=L(la,[["__scopeId","data-v-b9ab8c58"]]),ua={key:0,class:"VPNavScreenMenu"},da=P({__name:"VPNavScreenMenu",setup(r){const{theme:e}=C();return(t,s)=>f(e).nav?(d(),_("nav",ua,[(d(!0),_(M,null,G(f(e).nav,n=>(d(),_(M,{key:JSON.stringify(n)},["link"in n?(d(),E(Ko,{key:0,item:n},null,8,["item"])):"component"in n?(d(),E(Z(n.component),ue({key:1,ref_for:!0},n.props,{"screen-menu":""}),null,16)):(d(),E(ca,{key:2,text:n.text||"",items:n.items},null,8,["text","items"]))],64))),128))])):$("",!0)}}),ha=P({__name:"VPNavScreenSocialLinks",setup(r){const{theme:e}=C();return(t,s)=>f(e).socialLinks?(d(),E(Ut,{key:0,class:"VPNavScreenSocialLinks",links:f(e).socialLinks},null,8,["links"])):$("",!0)}}),fa={class:"list"},pa=P({__name:"VPNavScreenTranslations",setup(r){const{localeLinks:e,currentLang:t}=Ue({correspondingLink:!0}),s=O(!1);function n(){s.value=!s.value}return(i,o)=>f(e).length&&f(t).label?(d(),_("div",{key:0,class:x(["VPNavScreenTranslations",{open:s.value}])},[p("button",{class:"title",onClick:n},[o[0]||(o[0]=p("span",{class:"vpi-languages icon lang"},null,-1)),W(" "+N(f(t).label)+" ",1),o[1]||(o[1]=p("span",{class:"vpi-chevron-down icon chevron"},null,-1))]),p("ul",fa,[(d(!0),_(M,null,G(f(e),a=>(d(),_("li",{key:a.link,class:"item"},[T(ee,{class:"link",href:a.link},{default:b(()=>[W(N(a.text),1)]),_:2},1032,["href"])]))),128))])],2)):$("",!0)}}),va=L(pa,[["__scopeId","data-v-858fe1a4"]]),ga={class:"container"},_a=P({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(r){const e=O(null),t=ls(Xe?document.body:null);return(s,n)=>(d(),E(Et,{name:"fade",onEnter:n[0]||(n[0]=i=>t.value=!0),onAfterLeave:n[1]||(n[1]=i=>t.value=!1)},{default:b(()=>[s.open?(d(),_("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:e,id:"VPNavScreen"},[p("div",ga,[g(s.$slots,"nav-screen-content-before",{},void 0,!0),T(da,{class:"menu"}),T(va,{class:"translations"}),T(Wo,{class:"appearance"}),T(ha,{class:"social-links"}),g(s.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):$("",!0)]),_:3}))}}),ma=L(_a,[["__scopeId","data-v-f2779853"]]),ya={key:0,class:"VPNav"},ba=P({__name:"VPNav",setup(r){const{isScreenOpen:e,closeScreen:t,toggleScreen:s}=pi(),{frontmatter:n}=C(),i=I(()=>n.value.navbar!==!1);return cs("close-screen",t),Ge(()=>{Xe&&document.documentElement.classList.toggle("hide-nav",!i.value)}),(o,a)=>i.value?(d(),_("header",ya,[T(Fo,{"is-screen-open":f(e),onToggleScreen:f(s)},{"nav-bar-title-before":b(()=>[g(o.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":b(()=>[g(o.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":b(()=>[g(o.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":b(()=>[g(o.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),T(ma,{open:f(e)},{"nav-screen-content-before":b(()=>[g(o.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":b(()=>[g(o.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):$("",!0)}}),wa=L(ba,[["__scopeId","data-v-ae24b3ad"]]),ka=["role","tabindex"],$a={key:1,class:"items"},Sa=P({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(r){const e=r,{collapsed:t,collapsible:s,isLink:n,isActiveLink:i,hasActiveLink:o,hasChildren:a,toggle:l}=mn(I(()=>e.item)),c=I(()=>a.value?"section":"div"),u=I(()=>n.value?"a":"div"),h=I(()=>a.value?e.depth+2===7?"p":`h${e.depth+2}`:"p"),v=I(()=>n.value?void 0:"button"),m=I(()=>[[`level-${e.depth}`],{collapsible:s.value},{collapsed:t.value},{"is-link":n.value},{"is-active":i.value},{"has-active":o.value}]);function w(k){"key"in k&&k.key!=="Enter"||!e.item.link&&l()}function S(){e.item.link&&l()}return(k,R)=>{const V=_e("VPSidebarItem",!0);return d(),E(Z(c.value),{class:x(["VPSidebarItem",m.value])},{default:b(()=>[k.item.text?(d(),_("div",ue({key:0,class:"item",role:v.value},Ys(k.item.items?{click:w,keydown:w}:{},!0),{tabindex:k.item.items&&0}),[R[1]||(R[1]=p("div",{class:"indicator"},null,-1)),k.item.link?(d(),E(ee,{key:0,tag:u.value,class:"link",href:k.item.link,rel:k.item.rel,target:k.item.target},{default:b(()=>[(d(),E(Z(h.value),{class:"text",innerHTML:k.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(d(),E(Z(h.value),{key:1,class:"text",innerHTML:k.item.text},null,8,["innerHTML"])),k.item.collapsed!=null&&k.item.items&&k.item.items.length?(d(),_("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:S,onKeydown:Qs(S,["enter"]),tabindex:"0"},R[0]||(R[0]=[p("span",{class:"vpi-chevron-right caret-icon"},null,-1)]),32)):$("",!0)],16,ka)):$("",!0),k.item.items&&k.item.items.length?(d(),_("div",$a,[k.depth<5?(d(!0),_(M,{key:0},G(k.item.items,y=>(d(),E(V,{key:y.text,item:y,depth:k.depth+1},null,8,["item","depth"]))),128)):$("",!0)])):$("",!0)]),_:1},8,["class"])}}}),Pa=L(Sa,[["__scopeId","data-v-b3fd67f8"]]),Ta=P({__name:"VPSidebarGroup",props:{items:{}},setup(r){const e=O(!0);let t=null;return de(()=>{t=setTimeout(()=>{t=null,e.value=!1},300)}),Xs(()=>{t!=null&&(clearTimeout(t),t=null)}),(s,n)=>(d(!0),_(M,null,G(s.items,i=>(d(),_("div",{key:i.text,class:x(["group",{"no-transition":e.value}])},[T(Pa,{item:i,depth:0},null,8,["item"])],2))),128))}}),Ea=L(Ta,[["__scopeId","data-v-c40bc020"]]),Aa={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},La=P({__name:"VPSidebar",props:{open:{type:Boolean}},setup(r){const{sidebarGroups:e,hasSidebar:t}=oe(),s=r,n=O(null),i=ls(Xe?document.body:null);ie([s,n],()=>{var a;s.open?(i.value=!0,(a=n.value)==null||a.focus()):i.value=!1},{immediate:!0,flush:"post"});const o=O(0);return ie(e,()=>{o.value+=1},{deep:!0}),(a,l)=>f(t)?(d(),_("aside",{key:0,class:x(["VPSidebar",{open:a.open}]),ref_key:"navEl",ref:n,onClick:l[0]||(l[0]=us(()=>{},["stop"]))},[l[2]||(l[2]=p("div",{class:"curtain"},null,-1)),p("nav",Aa,[l[1]||(l[1]=p("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),g(a.$slots,"sidebar-nav-before",{},void 0,!0),(d(),E(Ea,{items:f(e),key:o.value},null,8,["items"])),g(a.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):$("",!0)}}),Oa=L(La,[["__scopeId","data-v-319d5ca6"]]),Ia=P({__name:"VPSkipLink",setup(r){const{theme:e}=C(),t=Ye(),s=O();ie(()=>t.path,()=>s.value.focus());function n({target:i}){const o=document.getElementById(decodeURIComponent(i.hash).slice(1));if(o){const a=()=>{o.removeAttribute("tabindex"),o.removeEventListener("blur",a)};o.setAttribute("tabindex","-1"),o.addEventListener("blur",a),o.focus(),window.scrollTo(0,0)}}return(i,o)=>(d(),_(M,null,[p("span",{ref_key:"backToTop",ref:s,tabindex:"-1"},null,512),p("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:n},N(f(e).skipToContentLabel||"Skip to content"),1)],64))}}),ja=L(Ia,[["__scopeId","data-v-0b0ada53"]]),Ca=P({__name:"Layout",setup(r){const{isOpen:e,open:t,close:s}=oe(),n=Ye();ie(()=>n.path,s),_n(e,s);const{frontmatter:i}=C(),o=Zs(),a=I(()=>!!o["home-hero-image"]);return cs("hero-image-slot-exists",a),(l,c)=>{const u=_e("Content");return f(i).layout!==!1?(d(),_("div",{key:0,class:x(["Layout",f(i).pageClass])},[g(l.$slots,"layout-top",{},void 0,!0),T(ja),T(nn,{class:"backdrop",show:f(e),onClick:f(s)},null,8,["show","onClick"]),T(wa,null,{"nav-bar-title-before":b(()=>[g(l.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":b(()=>[g(l.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":b(()=>[g(l.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":b(()=>[g(l.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":b(()=>[g(l.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":b(()=>[g(l.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),T(fi,{open:f(e),onOpenMenu:f(t)},null,8,["open","onOpenMenu"]),T(Oa,{open:f(e)},{"sidebar-nav-before":b(()=>[g(l.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":b(()=>[g(l.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),T(Qr,null,{"page-top":b(()=>[g(l.$slots,"page-top",{},void 0,!0)]),"page-bottom":b(()=>[g(l.$slots,"page-bottom",{},void 0,!0)]),"not-found":b(()=>[g(l.$slots,"not-found",{},void 0,!0)]),"home-hero-before":b(()=>[g(l.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":b(()=>[g(l.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":b(()=>[g(l.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":b(()=>[g(l.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":b(()=>[g(l.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":b(()=>[g(l.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":b(()=>[g(l.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":b(()=>[g(l.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":b(()=>[g(l.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":b(()=>[g(l.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":b(()=>[g(l.$slots,"doc-before",{},void 0,!0)]),"doc-after":b(()=>[g(l.$slots,"doc-after",{},void 0,!0)]),"doc-top":b(()=>[g(l.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":b(()=>[g(l.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":b(()=>[g(l.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":b(()=>[g(l.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":b(()=>[g(l.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":b(()=>[g(l.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":b(()=>[g(l.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":b(()=>[g(l.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),T(si),g(l.$slots,"layout-bottom",{},void 0,!0)],2)):(d(),E(u,{key:1}))}}}),Ra=L(Ca,[["__scopeId","data-v-5d98c3a5"]]),Ua={Layout:Ra,enhanceApp:({app:r})=>{r.component("Badge",en)}},Va=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Pe(async()=>{const{default:s}=await Promise.resolve().then(()=>Te);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Vt extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Na extends Vt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xa extends Vt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Da extends Vt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yt;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(yt||(yt={}));var Ma=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Ba{constructor(e,{headers:t={},customFetch:s,region:n=yt.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Va(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Ma(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(w=>{throw new Na(w)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new xa(u);if(!u.ok)throw new Da(u);let v=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),m;return v==="application/json"?m=yield u.json():v==="application/octet-stream"?m=yield u.blob():v==="text/event-stream"?m=u:v==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(n){return{data:null,error:n}}})}}var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fa(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var n=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return r[s]}})}),t}var K={},Nt={},et={},Ve={},tt={},st={},qa=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Se=qa();const Ha=Se.fetch,_s=Se.fetch.bind(Se),ms=Se.Headers,za=Se.Request,Wa=Se.Response,Te=Object.freeze(Object.defineProperty({__proto__:null,Headers:ms,Request:za,Response:Wa,default:_s,fetch:Ha},Symbol.toStringTag,{value:"Module"})),Ga=Fa(Te);var nt={};Object.defineProperty(nt,"__esModule",{value:!0});let Ja=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};nt.default=Ja;var ys=Y&&Y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(st,"__esModule",{value:!0});const Ka=ys(Ga),Ya=ys(nt);let Qa=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ka.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,h=null,v=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const R=await i.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=R:u=JSON.parse(R))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,v=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const S=await i.text();try{c=JSON.parse(S),Array.isArray(c)&&i.status===404&&(u=[],c=null,v=200,m="OK")}catch{i.status===404&&S===""?(v=204,m="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,v=200,m="OK"),c&&this.shouldThrowOnError)throw new Ya.default(c)}return{error:c,data:u,count:h,status:v,statusText:m}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};st.default=Qa;var Xa=Y&&Y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tt,"__esModule",{value:!0});const Za=Xa(st);let el=class extends Za.default{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};tt.default=el;var tl=Y&&Y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ve,"__esModule",{value:!0});const sl=tl(tt);let nl=class extends sl.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};Ve.default=nl;var rl=Y&&Y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(et,"__esModule",{value:!0});const Ae=rl(Ve);let il=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=t,this.schema=s,this.fetch=n}select(e,{head:t=!1,count:s}={}){const n=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Ae.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ae.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ae.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Ae.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Ae.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};et.default=il;var rt={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.version=void 0;it.version="0.0.0-automated";Object.defineProperty(rt,"__esModule",{value:!0});rt.DEFAULT_HEADERS=void 0;const ol=it;rt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ol.version}`};var bs=Y&&Y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nt,"__esModule",{value:!0});const al=bs(et),ll=bs(Ve),cl=rt;let ul=class ws{constructor(e,{headers:t={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},cl.DEFAULT_HEADERS),t),this.schemaName=s,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new al.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ws(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||n?(o=s?"HEAD":"GET",Object.entries(t).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new ll.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Nt.default=ul;var Ee=Y&&Y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(K,"__esModule",{value:!0});K.PostgrestError=K.PostgrestBuilder=K.PostgrestTransformBuilder=K.PostgrestFilterBuilder=K.PostgrestQueryBuilder=K.PostgrestClient=void 0;const ks=Ee(Nt);K.PostgrestClient=ks.default;const $s=Ee(et);K.PostgrestQueryBuilder=$s.default;const Ss=Ee(Ve);K.PostgrestFilterBuilder=Ss.default;const Ps=Ee(tt);K.PostgrestTransformBuilder=Ps.default;const Ts=Ee(st);K.PostgrestBuilder=Ts.default;const Es=Ee(nt);K.PostgrestError=Es.default;var dl=K.default={PostgrestClient:ks.default,PostgrestQueryBuilder:$s.default,PostgrestFilterBuilder:Ss.default,PostgrestTransformBuilder:Ps.default,PostgrestBuilder:Ts.default,PostgrestError:Es.default};const{PostgrestClient:hl,PostgrestQueryBuilder:hu,PostgrestFilterBuilder:fu,PostgrestTransformBuilder:pu,PostgrestBuilder:vu,PostgrestError:gu}=dl;function fl(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const pl=fl(),vl="2.11.15",gl=`realtime-js/${vl}`,_l="1.0.0",As=1e4,ml=1e3;var Oe;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Oe||(Oe={}));var H;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(H||(H={}));var X;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(X||(X={}));var bt;(function(r){r.websocket="websocket"})(bt||(bt={}));var ve;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ve||(ve={}));class yl{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ls{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var D;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(D||(D={}));const Ft=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=bl(o,r,e,n),i),{})},bl=(r,e,t,s)=>{const n=e.find(a=>a.name===r),i=n==null?void 0:n.type,o=t[r];return i&&!s.includes(i)?Os(i,o):wt(o)},Os=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Sl(e,t)}switch(r){case D.bool:return wl(e);case D.float4:case D.float8:case D.int2:case D.int4:case D.int8:case D.numeric:case D.oid:return kl(e);case D.json:case D.jsonb:return $l(e);case D.timestamp:return Pl(e);case D.abstime:case D.date:case D.daterange:case D.int4range:case D.int8range:case D.money:case D.reltime:case D.text:case D.time:case D.timestamptz:case D.timetz:case D.tsrange:case D.tstzrange:return wt(e);default:return wt(e)}},wt=r=>r,wl=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},kl=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},$l=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Sl=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Os(e,a))}return r},Pl=r=>typeof r=="string"?r.replace(" ","T"):r,Is=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class lt{constructor(e,t,s={},n=As){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qt;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(qt||(qt={}));class Ie{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ie.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ie.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ie.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const v=u.map(k=>k.presence_ref),m=h.map(k=>k.presence_ref),w=u.filter(k=>m.indexOf(k.presence_ref)<0),S=h.filter(k=>v.indexOf(k.presence_ref)<0);w.length>0&&(a[c]=w),S.length>0&&(l[c]=S)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(m=>m.presence_ref),v=u.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...v)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ht;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Ht||(Ht={}));var zt;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(zt||(zt={}));var re;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(re||(re={}));class xt{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=H.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new lt(this,X.join,this.params,this.timeout),this.rejoinTimer=new Ls(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=H.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=H.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=H.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=H.errored,this.rejoinTimer.scheduleTimeout())}),this._on(X.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ie(this),this.broadcastEndpointURL=Is(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.state==H.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(re.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(re.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(re.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(h=v==null?void 0:v.length)!==null&&h!==void 0?h:0,w=[];for(let S=0;S<m;S++){const k=v[S],{filter:{event:R,schema:V,table:y,filter:A}}=k,F=u&&u[S];if(F&&F.event===R&&F.schema===V&&F.table===y&&F.filter===A)w.push(Object.assign(Object.assign({},k),{id:F.id}));else{this.unsubscribe(),this.state=H.errored,e==null||e(re.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(re.SUBSCRIBED);return}}).receive("error",u=>{this.state=H.errored,e==null||e(re.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(re.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=H.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(X.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new lt(this,X.leave,{},e),s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new lt(this,e,t,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=X;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let v=this._onMessage(o,t,s);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(m=>{var w,S,k;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(S=m.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(m=>m.callback(v,s)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var w,S,k,R,V,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const A=m.id,F=(w=m.filter)===null||w===void 0?void 0:w.event;return A&&((S=t.ids)===null||S===void 0?void 0:S.includes(A))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const A=(V=(R=m==null?void 0:m.filter)===null||R===void 0?void 0:R.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return A==="*"||A===((y=t==null?void 0:t.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:k,commit_timestamp:R,type:V,errors:y}=w;v=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:R,eventType:V,new:{},old:{},errors:y}),this._getPayloadRecords(w))}m.callback(v,s)})}_isClosed(){return this.state===H.closed}_isJoined(){return this.state===H.joined}_isJoining(){return this.state===H.joining}_isLeaving(){return this.state===H.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&xt.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(X.close,{},e)}_onError(e){this._on(X.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=H.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ft(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ft(e.columns,e.old_record)),t}}const Wt=()=>{},Tl=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class El{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=As,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wt,this.ref=0,this.logger=Wt,this.conn=null,this.sendBuffer=[],this.serializer=new yl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Pe(async()=>{const{default:l}=await Promise.resolve().then(()=>Te);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${bt.websocket}`,this.httpEndpoint=Is(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ls(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=pl),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_l}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Oe.connecting:return ve.Connecting;case Oe.open:return ve.Open;case Oe.closing:return ve.Closing;default:return ve.Closed}}isConnected(){return this.connectionState()===ve.Open}channel(e,t={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new xt(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const n={access_token:t,version:gl};t&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(X.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(ml,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:n,payload:i,ref:o}=t;s==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(s)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(X.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Tl],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class Dt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function q(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Al extends Dt{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kt extends Dt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ll=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const js=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Pe(async()=>{const{default:s}=await Promise.resolve().then(()=>Te);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Ol=()=>Ll(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pe(()=>Promise.resolve().then(()=>Te),void 0)).Response:Response}),$t=r=>{if(Array.isArray(r))return r.map(t=>$t(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=$t(s)}),e};var me=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const ct=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Il=(r,e,t)=>me(void 0,void 0,void 0,function*(){const s=yield Ol();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{e(new Al(ct(n),r.status||500))}).catch(n=>{e(new kt(ct(n),n))}):e(new kt(ct(r),r))}),jl=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),t))};function Ne(r,e,t,s,n,i){return me(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,jl(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Il(l,a,s))})})}function ze(r,e,t,s){return me(this,void 0,void 0,function*(){return Ne(r,"GET",e,t,s)})}function le(r,e,t,s,n){return me(this,void 0,void 0,function*(){return Ne(r,"POST",e,s,n,t)})}function Cl(r,e,t,s,n){return me(this,void 0,void 0,function*(){return Ne(r,"PUT",e,s,n,t)})}function Rl(r,e,t,s){return me(this,void 0,void 0,function*(){return Ne(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function Cs(r,e,t,s,n){return me(this,void 0,void 0,function*(){return Ne(r,"DELETE",e,s,n,t)})}var J=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Ul={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vl{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=js(n)}uploadOrUpdate(e,t,s,n){return J(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Gt),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),v=yield h.json();return h.ok?{data:{path:c,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(i){if(q(i))return{data:null,error:i};throw i}})}upload(e,t,s){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return J(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Gt.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),v=yield h.json();return h.ok?{data:{path:i,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(q(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return J(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield le(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Dt("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}})}update(e,t,s){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return J(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}})}copy(e,t,s){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield le(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return J(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield le(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return J(this,void 0,void 0,function*(){try{const n=yield le(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}})}download(e,t){return J(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ze(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(q(a))return{data:null,error:a};throw a}})}info(e){return J(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield ze(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:$t(s),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}})}exists(e){return J(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Rl(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(q(s)&&s instanceof kt){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return J(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}})}list(e,t,s){return J(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ul),t),{prefix:e||""});return{data:yield le(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Nl="2.7.1",xl={"X-Client-Info":`storage-js/${Nl}`};var ye=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Dl{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},xl),t),this.fetch=js(s)}listBuckets(){return ye(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(q(e))return{data:null,error:e};throw e}})}getBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ye(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return ye(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}})}}class Ml extends Dl{constructor(e,t={},s){super(e,t,s)}from(e){return new Vl(this.url,this.headers,e,this.fetch)}}const Bl="2.50.2";let Le="";typeof Deno<"u"?Le="deno":typeof document<"u"?Le="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Le="react-native":Le="node";const Fl={"X-Client-Info":`supabase-js-${Le}/${Bl}`},ql={headers:Fl},Hl={schema:"public"},zl={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wl={};var Gl=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Jl=r=>{let e;return r?e=r:typeof fetch>"u"?e=_s:e=fetch,(...t)=>e(...t)},Kl=()=>typeof Headers>"u"?ms:Headers,Yl=(r,e,t)=>{const s=Jl(t),n=Kl();return(i,o)=>Gl(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var Ql=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};function Xl(r){return r.endsWith("/")?r:r+"/"}function Zl(r,e){var t,s;const{db:n,auth:i,realtime:o,global:a}=r,{db:l,auth:c,realtime:u,global:h}=e,v={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(t=h==null?void 0:h.headers)!==null&&t!==void 0?t:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Ql(this,void 0,void 0,function*(){return""})};return r.accessToken?v.accessToken=r.accessToken:delete v.accessToken,v}const Rs="2.70.0",$e=30*1e3,St=3,ut=St*$e,ec="http://localhost:9999",tc="supabase.auth.token",sc={"X-Client-Info":`gotrue-js/${Rs}`},Pt="X-Supabase-Api-Version",Us={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nc=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rc=6e5;class Mt extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function j(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ic extends Mt{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function oc(r){return j(r)&&r.name==="AuthApiError"}class Vs extends Mt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class he extends Mt{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class ae extends he{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ac(r){return j(r)&&r.name==="AuthSessionMissingError"}class xe extends he{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class De extends he{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Me extends he{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lc(r){return j(r)&&r.name==="AuthImplicitGrantRedirectError"}class Jt extends he{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tt extends he{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function dt(r){return j(r)&&r.name==="AuthRetryableFetchError"}class Kt extends he{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class je extends he{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yt=` 	
\r=`.split(""),cc=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Yt.length;e+=1)r[Yt[e].charCodeAt(0)]=-2;for(let e=0;e<We.length;e+=1)r[We[e].charCodeAt(0)]=e;return r})();function Qt(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(We[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(We[s]),e.queuedBits-=6}}function Ns(r,e,t){const s=cc[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Xt(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{hc(o,s,t)};for(let o=0;o<r.length;o+=1)Ns(r.charCodeAt(o),n,i);return e.join("")}function uc(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function dc(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}uc(s,e)}}function hc(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if(!(r>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function fc(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)Ns(r.charCodeAt(n),t,s);return new Uint8Array(e)}function pc(r){const e=[];return dc(r,t=>e.push(t)),new Uint8Array(e)}function vc(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};return r.forEach(n=>Qt(n,t,s)),Qt(null,t,s),e.join("")}function gc(r){return Math.round(Date.now()/1e3)+r}function _c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Q=()=>typeof window<"u"&&typeof document<"u",fe={tested:!1,writable:!1},Ce=()=>{if(!Q())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fe.tested)return fe.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),fe.tested=!0,fe.writable=!0}catch{fe.tested=!0,fe.writable=!1}return fe.writable};function mc(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const xs=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Pe(async()=>{const{default:s}=await Promise.resolve().then(()=>Te);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},yc=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ds=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Be=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Fe=async(r,e)=>{await r.removeItem(e)};class ot{constructor(){this.promise=new ot.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ot.promiseConstructor=Promise;function ht(r){const e=r.split(".");if(e.length!==3)throw new je("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!nc.test(e[s]))throw new je("JWT not in base64url format");return{header:JSON.parse(Xt(e[0])),payload:JSON.parse(Xt(e[1])),signature:fc(e[2]),raw:{header:e[0],payload:e[1]}}}async function bc(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function wc(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function kc(r){return("0"+r.toString(16)).substr(-2)}function $c(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,kc).join("")}async function Sc(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Pc(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Sc(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function be(r,e,t=!1){const s=$c();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await Ds(r,`${e}-code-verifier`,n);const i=await Pc(s);return[i,s===i?"plain":"s256"]}const Tc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ec(r){const e=r.headers.get(Pt);if(!e||!e.match(Tc))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ac(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Lc(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Oc=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function we(r){if(!Oc.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Ic=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const pe=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),jc=[502,503,504];async function Zt(r){var e;if(!yc(r))throw new Tt(pe(r),0);if(jc.includes(r.status))throw new Tt(pe(r),r.status);let t;try{t=await r.json()}catch(i){throw new Vs(pe(i),i)}let s;const n=Ec(r);if(n&&n.getTime()>=Us["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Kt(pe(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ae}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Kt(pe(t),r.status,t.weak_password.reasons);throw new ic(pe(t),r.status||500,s)}const Cc=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function U(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[Pt]||(i[Pt]=Us["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Rc(r,e,t+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Rc(r,e,t,s,n,i){const o=Cc(e,s,n,i);let a;try{a=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Tt(pe(l),0)}if(a.ok||await Zt(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Zt(l)}}function ne(r){var e;let t=null;xc(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=gc(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function es(r){const e=ne(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function ce(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Uc(r){return{data:r,error:null}}function Vc(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,o=Ic(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Nc(r){return r}function xc(r){return r.access_token&&r.refresh_token&&r.expires_in}const ft=["global","local","others"];var Dc=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Mc{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=xs(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=ft[0]){if(ft.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ft.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(j(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ce})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Dc(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Vc,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(j(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ce})}catch(t){if(j(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Nc});if(u.error)throw u.error;const h=await u.json(),v=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(j(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){we(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ce})}catch(t){if(j(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){we(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ce})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){we(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ce})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){we(e.userId);try{const{data:t,error:s}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(j(t))return{data:null,error:t};throw t}}async _deleteFactor(e){we(e.userId),we(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(j(t))return{data:null,error:t};throw t}}}const Bc={getItem:r=>Ce()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Ce()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Ce()&&globalThis.localStorage.removeItem(r)}};function ts(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Fc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ke={debug:!!(globalThis&&Ce()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ms extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qc extends Ms{}async function Hc(r,e,t){ke.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ke.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){ke.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{ke.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw ke.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new qc(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ke.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Fc();const zc={url:ec,storageKey:tc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ss(r,e,t){return await t()}class Re{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Re.nextInstanceID,Re.nextInstanceID+=1,this.instanceID>0&&Q()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},zc),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Mc({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=xs(n.fetch),this.lock=n.lock||ss,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Q()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Hc:this.lock=ss,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ce()?this.storage=Bc:(this.memoryStorage={},this.storage=ts(this.memoryStorage)):(this.memoryStorage={},this.storage=ts(this.memoryStorage)),Q()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rs}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=mc(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Q()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lc(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return j(t)?{error:t}:{error:new Vs("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:ne}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(j(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:u,password:h,options:v}=e;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await be(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:u,password:h,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:m,code_challenge_method:w},xform:ne})}else if("phone"in e){const{phone:u,password:h,options:v}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},channel:(n=v==null?void 0:v.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:ne})}else throw new De("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(j(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:es})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:es})}else throw new De("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new xe}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(j(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,n,i,o,a,l,c,u,h,v,m;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:k,wallet:R,statement:V,options:y}=e;let A;if(Q())if(typeof R=="object")A=R;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))A=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=R}const F=new URL((t=y==null?void 0:y.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const B=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),V?{statement:V}:null));let z;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")z=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)z=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)w=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),S=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${F.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(n=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const B=await A.signMessage(new TextEncoder().encode(w),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=B}}try{const{data:k,error:R}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:vc(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ne});if(R)throw R;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new xe}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:R})}catch(k){if(j(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const t=await Be(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ne});if(await Fe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xe}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(j(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ne}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xe}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(j(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await be(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new De("You must provide either an email or phone number.")}catch(a){if(j(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ne});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(j(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await be(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Uc})}catch(i){if(j(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new ae;const{error:n}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(j(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await U(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new De("You must provide either an email or phone number and a type")}catch(t){if(j(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Be(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<ut:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ce}):await this._useSession(async t=>{var s,n,i;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ae}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ce})})}catch(t){if(j(t))return ac(t)&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new ae;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await be(this.storage,this.storageKey));const{data:c,error:u}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ce});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ae;const t=Date.now()/1e3;let s=t,n=!0,i=null;const{payload:o}=ht(e.access_token);if(o.exp&&(s=o.exp,n=s<=t),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(j(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new ae;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(j(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Q())throw new Me("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Me(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Jt("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Me("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jt("No code detected.");const{data:V,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Me("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let v=u+h;l&&(v=parseInt(l));const m=v-u;m*1e3<=$e&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=v-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,u);const{data:S,error:k}=await this._getUser(i);if(k)throw k;const R={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:v,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(s){if(j(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Be(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(oc(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=_c(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await be(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(j(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(j(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:v}=i;if(v)throw v;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Q()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(j(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(j(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await wc(async n=>(n>0&&await bc(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ne})),(n,i)=>{const o=200*Math.pow(2,n);return i&&dt(i)&&Date.now()+o-s<$e})}catch(s){if(this._debug(t,"error",s),j(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Q()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Be(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ut;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${ut}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),dt(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new ae;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ot;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ae;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),j(i)){const o={session:null,error:i};return dt(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ds(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Fe(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Q()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$e);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/$e);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${$e}ms, refresh threshold is ${St} ticks`),n<=St&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ms)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Q()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await be(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(j(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(j(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(j(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(j(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ht(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+rc>Date.now()))return s;const{data:n,error:i}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new je("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(o=>o.kid===e),!s)throw new je("No matching signing key found in JWKS");return s}async getClaims(e,t={keys:[]}){try{let s=e;if(!s){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};s=m.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=ht(s);if(Ac(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:n,signature:o},error:null}}const c=Lc(n.alg),u=await this.fetchJwk(n.kid,t),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,pc(`${a}.${l}`)))throw new je("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(j(s))return{data:null,error:s};throw s}}}Re.nextInstanceID=0;const Wc=Re;class Gc extends Wc{constructor(e){super(e)}}var Jc=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Kc{constructor(e,t,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=Xl(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Hl,realtime:Wl,auth:Object.assign(Object.assign({},zl),{storageKey:c}),global:ql},h=Zl(s??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Yl(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new hl(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Ba(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ml(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Jc(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gc({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new El(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yc=(r,e,t)=>new Kc(r,e,t),Qc="https://dibqwvlhdkpursrormwx.supabase.co",Xc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpYnF3dmxoZGtwdXJzcm9ybXd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3NDAxNzIsImV4cCI6MjA2NTMxNjE3Mn0.RdG6tdBLMDDb_kZxw8BsYumDgq35ohah6pY1KGp9X4s",pt=Yc(Qc,Xc),Zc={key:0,class:"preview-container"},eu=["src"],tu=["disabled"],su={key:1,class:"success"},nu={key:2,class:"error"},ru={__name:"ContactForm",setup(r){const e=O(""),t=O(""),s=O(""),n=O(""),i=O(""),o=O(""),a=O(""),l=O(""),c=O(""),u=O(null),h=O(""),v=O(null),m=O(!1),w=O(!1),S=O("");function k(V){const y=V.target.files[0];if(u.value=y,!y){h.value="";return}h.value=URL.createObjectURL(y)}async function R(){m.value=!0,S.value="",w.value=!1;let V="";if(u.value){const A=`${Date.now()}-${u.value.name}`,{data:F,error:B}=await pt.storage.from("contactimage").upload(A,u.value);if(B){S.value="Image upload failed: "+B.message,m.value=!1;return}const{data:z}=pt.storage.from("contactimage").getPublicUrl(A);V=z.publicUrl}const{error:y}=await pt.from("Contact").insert([{name:e.value,email:t.value,mobile:s.value,mobile1:n.value,address:i.value,designation:o.value,organization:a.value,learn:l.value,message:c.value,photo:V||null}]);y?S.value=y.message:(w.value=!0,e.value="",t.value="",s.value="",n.value="",i.value="",o.value="",a.value="",l.value="",c.value="",u.value=null,h.value="",v.value&&(v.value.value="")),m.value=!1}return(V,y)=>(d(),_("form",{onSubmit:us(R,["prevent"]),class:"contact-form"},[y[9]||(y[9]=p("h2",{class:"contact-title"},"Connect to Us",-1)),y[10]||(y[10]=p("label",null,[W("Your full name "),p("span",{class:"required"},"*")],-1)),te(p("input",{"onUpdate:modelValue":y[0]||(y[0]=A=>e.value=A),type:"text",placeholder:"Enter your full name",required:""},null,512),[[se,e.value]]),y[11]||(y[11]=p("label",null,[W("Your email address "),p("span",{class:"required"},"*")],-1)),te(p("input",{"onUpdate:modelValue":y[1]||(y[1]=A=>t.value=A),type:"email",placeholder:"Enter your email",required:""},null,512),[[se,t.value]]),y[12]||(y[12]=p("label",null,[W("Primary mobile number "),p("span",{class:"required"},"*")],-1)),te(p("input",{"onUpdate:modelValue":y[2]||(y[2]=A=>s.value=A),type:"text",placeholder:"",required:""},null,512),[[se,s.value]]),y[13]||(y[13]=p("label",null,"Secondary mobile number",-1)),te(p("input",{"onUpdate:modelValue":y[3]||(y[3]=A=>n.value=A),type:"text",placeholder:""},null,512),[[se,n.value]]),y[14]||(y[14]=p("label",null,[W("Your address "),p("span",{class:"required"},"*")],-1)),te(p("input",{"onUpdate:modelValue":y[4]||(y[4]=A=>i.value=A),type:"text",placeholder:"",required:""},null,512),[[se,i.value]]),y[15]||(y[15]=p("label",null,[W("Designation "),p("span",{class:"required"},"*")],-1)),te(p("input",{"onUpdate:modelValue":y[5]||(y[5]=A=>o.value=A),type:"text",placeholder:"",required:""},null,512),[[se,o.value]]),y[16]||(y[16]=p("label",null,[W("Organization "),p("span",{class:"required"},"*")],-1)),te(p("input",{"onUpdate:modelValue":y[6]||(y[6]=A=>a.value=A),type:"text",placeholder:"",required:""},null,512),[[se,a.value]]),y[17]||(y[17]=p("label",null,[W("What would you like to learn? "),p("span",{class:"required"},"*")],-1)),te(p("input",{"onUpdate:modelValue":y[7]||(y[7]=A=>l.value=A),type:"text",placeholder:"",rows:"2",required:""},null,512),[[se,l.value]]),y[18]||(y[18]=p("label",null,"Upload your photo ",-1)),p("input",{type:"file",onChange:k,accept:"image/*",ref_key:"fileInput",ref:v},null,544),h.value?(d(),_("div",Zc,[p("img",{src:h.value,alt:"Photo preview",class:"preview-image"},null,8,eu)])):$("",!0),y[19]||(y[19]=p("label",null,[W("Your message to us "),p("span",{class:"required"})],-1)),te(p("textarea",{"onUpdate:modelValue":y[8]||(y[8]=A=>c.value=A),placeholder:"",rows:"4",required:""},null,512),[[se,c.value]]),p("button",{type:"submit",disabled:m.value},N(m.value?"Submitting...":"Push Contact"),9,tu),w.value?(d(),_("p",su,"✅ Push contact successfully!")):$("",!0),S.value?(d(),_("p",nu,"❌ "+N(S.value),1)):$("",!0)],32))}},iu=L(ru,[["__scopeId","data-v-095ad702"]]),_u={extends:Ua,enhanceApp({app:r}){r.component("ContactForm",iu)}};export{_u as R,C as u};
